<!DOCTYPE html>
<html lang="nl">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tailwind | Uw Mand</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="style.css">
</head>

<body class="bg-slate-50 antialiased font-sans text-left">
    <header class="bg-white shadow-sm sticky top-0 z-50 border-b border-slate-200">
        <nav class="container mx-auto px-6 py-4 flex justify-between items-center text-left">
            <a href="index.html" class="text-2xl font-black text-blue-600 tracking-tighter uppercase">Tailwind.</a>
            <div class="hidden md:flex items-center space-x-8 font-semibold text-sm uppercase tracking-wide">
                <a href="over-ons.html" class="hover:text-blue-600">Missie</a>
                <a href="aanbod.html" class="hover:text-blue-600">Oplossingen</a>
                <a href="forum.html" class="hover:text-blue-600">Forum</a>
                <a href="contact.html" class="hover:text-blue-600">Contact &amp; Jobs</a>
            </div>
            <a href="winkelmand.html"
                class="bg-slate-900 text-white px-5 py-2 rounded-full flex items-center gap-2 hover:bg-blue-600 transition">
                <span>Mand</span>
                <span id="cart-count" class="bg-blue-500 text-[10px] px-1.5 py-0.5 rounded-full font-bold">0</span>
            </a>
        </nav>
    </header>

    <main class="container mx-auto px-6 py-20 max-w-4xl page-anim">
        <div class="bg-white rounded-[2.5rem] shadow-2xl overflow-hidden border border-slate-200 text-left">
            <div class="bg-slate-900 p-8 text-white flex justify-between items-center text-left">
                <h2 class="text-2xl font-black italic underline decoration-blue-500 uppercase">Uw Mand</h2>
                <button type="button" onclick="clearCart()"
                    class="text-[10px] font-black uppercase tracking-widest text-slate-400 hover:text-red-400 transition">Legen</button>
            </div>
            <div class="p-10 text-left">
                <div id="cart-empty-msg" class="text-center py-10 text-slate-400 italic uppercase font-bold">De mand is
                    momenteel leeg.</div>
                <div id="cart-table-wrapper" class="hidden text-left">
                    <table class="w-full text-left">
                        <thead
                            class="border-b border-slate-100 text-[10px] uppercase font-bold text-slate-400 tracking-widest text-left">
                            <tr>
                                <th class="pb-4">Product</th>
                                <th class="pb-4 text-right">Prijs</th>
                                <th class="pb-4 text-right">Actie</th>
                            </tr>
                        </thead>
                        <tbody id="cart-items" class="divide-y divide-slate-100 italic"></tbody>
                    </table>
                    <div
                        class="mt-8 flex justify-between items-center p-8 bg-blue-50 rounded-2xl border border-blue-100">
                        <span class="font-bold uppercase tracking-widest text-xs italic">Totaal</span>
                        <span id="cart-total-price"
                            class="text-3xl font-black text-blue-600 italic underline decoration-blue-200">€ 0,00</span>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <script>
        // 1. Haal data op
        let cart = JSON.parse(localStorage.getItem("tailwind_cart")) || [];

        // 2. Update de teller in het menu
        const countLabel = document.getElementById("cart-count");
        if (countLabel) countLabel.innerText = cart.length;

        // 3. Bouw de tabel op
        const itemsContainer = document.getElementById('cart-items');
        const emptyMsg = document.getElementById('cart-empty-msg');
        const wrapper = document.getElementById('cart-table-wrapper');

        function renderCart() {
            if (cart.length > 0) {
                emptyMsg.classList.add('hidden');
                wrapper.classList.remove('hidden');
                itemsContainer.innerHTML = '';
                let total = 0;

                cart.forEach(item => {
                    total += item.price;
                    itemsContainer.innerHTML += `
                        <tr>
                            <td class="py-4 font-bold italic text-slate-700">${item.name}</td>
                            <td class="py-4 text-right font-black text-blue-600">€ ${item.price.toFixed(2)}</td>
                            <td class="py-4 text-right">
                                <button type="button" onclick="removeFromCart(${item.id})" class="text-[10px] font-black uppercase border border-red-100 px-3 py-1 rounded-xl text-red-400 hover:bg-red-50 cursor-pointer">Wis</button>
                            </td>
                        </tr>`;
                });
                document.getElementById('cart-total-price').innerText = "€ " + total.toFixed(2);
            } else {
                emptyMsg.classList.remove('hidden');
                wrapper.classList.add('hidden');
            }
        }

        // 4. Acties
        function removeFromCart(id) {
            cart = cart.filter(item => item.id !== id);
            localStorage.setItem("tailwind_cart", JSON.stringify(cart));
            // Update teller
            if (countLabel) countLabel.innerText = cart.length;
            // Herteken tabel
            renderCart();
        }

        function clearCart() {
            if (confirm("Alles verwijderen?")) {
                localStorage.removeItem("tailwind_cart");
                cart = [];
                if (countLabel) countLabel.innerText = 0;
                renderCart();
            }
        }

        // Start render
        renderCart();
    </script>
</body>

</html>